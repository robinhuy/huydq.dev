<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tái sử dụng code cho nhiều project với Git Submodules | HuyDQ's Blog</title><meta name=keywords content="Git,Github"><meta name=description content="Trong một project sẽ có những đoạn code có thể tái sử dụng ở nhiều nơi, thường đặt ở trong các thư mục đại loại như: helper, utils, &mldr; Vậy nếu những đoạn code đó lại được tái sử dụng ở nhiều project thì sao?
Có nhiều phương pháp áp dụng như: Git Submodules, Monorepos, Bit, &mldr; hay tạo hẳn thư viện riêng và đẩy lên cloud.
Trong bài viết này mình sẽ hướng dẫn các bạn cách sử dụng Git Submodules cho việc tái sử dụng code."><meta name=author content><link rel=canonical href=https://huydq.dev/blog/tai-su-dung-code-cho-nhieu-project-voi-git-submodules/><link crossorigin=anonymous href=/assets/css/stylesheet.1d3f823d124f9f3fcec0f227cc1b59954e72f08f59907ec81d076933582a33d1.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://huydq.dev/icons/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://huydq.dev/icons/favicon16.png><link rel=icon type=image/png sizes=32x32 href=https://huydq.dev/icons/favicon32.png><link rel=apple-touch-icon href=https://huydq.dev/icons/favicon.png><link rel=mask-icon href=https://huydq.dev/icons/favicon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-5KF148C0X6"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5KF148C0X6",{anonymize_ip:!1})}</script><meta property="og:title" content="Tái sử dụng code cho nhiều project với Git Submodules"><meta property="og:description" content="Trong một project sẽ có những đoạn code có thể tái sử dụng ở nhiều nơi, thường đặt ở trong các thư mục đại loại như: helper, utils, &mldr; Vậy nếu những đoạn code đó lại được tái sử dụng ở nhiều project thì sao?
Có nhiều phương pháp áp dụng như: Git Submodules, Monorepos, Bit, &mldr; hay tạo hẳn thư viện riêng và đẩy lên cloud.
Trong bài viết này mình sẽ hướng dẫn các bạn cách sử dụng Git Submodules cho việc tái sử dụng code."><meta property="og:type" content="article"><meta property="og:url" content="https://huydq.dev/blog/tai-su-dung-code-cho-nhieu-project-voi-git-submodules/"><meta property="og:image" content="https://huydq.dev/icons/thumbnail.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-07-18T00:00:00+00:00"><meta property="article:modified_time" content="2021-07-18T00:00:00+00:00"><meta property="og:site_name" content="HuyDQ's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://huydq.dev/icons/thumbnail.jpg"><meta name=twitter:title content="Tái sử dụng code cho nhiều project với Git Submodules"><meta name=twitter:description content="Trong một project sẽ có những đoạn code có thể tái sử dụng ở nhiều nơi, thường đặt ở trong các thư mục đại loại như: helper, utils, &mldr; Vậy nếu những đoạn code đó lại được tái sử dụng ở nhiều project thì sao?
Có nhiều phương pháp áp dụng như: Git Submodules, Monorepos, Bit, &mldr; hay tạo hẳn thư viện riêng và đẩy lên cloud.
Trong bài viết này mình sẽ hướng dẫn các bạn cách sử dụng Git Submodules cho việc tái sử dụng code."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tái sử dụng code cho nhiều project với Git Submodules","item":"https://huydq.dev/blog/tai-su-dung-code-cho-nhieu-project-voi-git-submodules/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Tái sử dụng code cho nhiều project với Git Submodules","name":"Tái sử dụng code cho nhiều project với Git Submodules","description":"Trong một project sẽ có những đoạn code có thể tái sử dụng ở nhiều nơi, thường đặt ở trong các thư mục đại loại như: helper, utils, \u0026hellip; Vậy nếu những đoạn code đó lại được tái sử dụng ở nhiều project thì sao?\nCó nhiều phương pháp áp dụng như: Git Submodules, Monorepos, Bit, \u0026hellip; hay tạo hẳn thư viện riêng và đẩy lên cloud.\nTrong bài viết này mình sẽ hướng dẫn các bạn cách sử dụng Git Submodules cho việc tái sử dụng code.","keywords":["Git","Github"],"articleBody":"Trong một project sẽ có những đoạn code có thể tái sử dụng ở nhiều nơi, thường đặt ở trong các thư mục đại loại như: helper, utils, … Vậy nếu những đoạn code đó lại được tái sử dụng ở nhiều project thì sao?\nCó nhiều phương pháp áp dụng như: Git Submodules, Monorepos, Bit, … hay tạo hẳn thư viện riêng và đẩy lên cloud.\nTrong bài viết này mình sẽ hướng dẫn các bạn cách sử dụng Git Submodules cho việc tái sử dụng code.\nGit Submodules cho phép tạo một (hoặc nhiều) repository bên trong repository hiện tại. Những đoạn code tái sử dụng cho nhiều project thì có thể đặt ra một repository riêng, sau đó nhúng vào trong các project cần sử dụng theo dạng Sub module.\nVí dụ mình có một project my-project, có cấu trúc như sau:\nTrong đó mình muốn code nằm trong thư mục src/library có thể tái sử dụng được ở nhiều project, vậy mình sẽ tạo 1 repository mới là my-library, và nhúng repo này vào trong my-project. Ở các project khác muốn dùng chung code thì cũng nhúng my-library vào qua submodules.\nĐể tạo submodule cho repository my-project ta dùng lệnh sau:\n1 git submodule add https://github.com/robinhuy/my-library Lệnh này sẽ tạo ra một thư mục mới là my-library và một file mới là .gitmodules trong project my-project. Thư mục này chính là repository my-library luôn, chúng ta có thể cd vào và thực hiện các lệnh fetch, pull, push, … như bình thường. Còn file .gitmodules sẽ chứa thông tin về submodule vừa tạo.\nNgoài ra, để cho cấu trúc thư mục được đẹp, khi tạo submodule chúng ta có thể đổi lại tên thư mục, hay cho vào trong một thư mục con cũng được. Ví dụ mình tạo submodule là folder src/library thay vì my-library thì dùng lệnh sau:\n1 git submodule add https://github.com/robinhuy/my-library src/library Trường hợp tạo nhầm thì các bạn có thể xóa submodule đi bằng cách chạy lệnh sau:\n1 2 git rm -rf my-library rm -rf .git/modules/my-library với my-library là thư mục chứa submodule (được khai báo trong file .gitmodules).\nChú ý mọi chỉnh sửa trong submodule muốn cập nhật vào repository chính thì cần tạo thêm commit. Như vậy khi có thay đổi từ repository my-library và muốn cập nhật vào trong my-project thì cần:\nVào trong thư mục src/library để pull code mới nhất về (hoặc có thể chỉnh sửa trong này rồi push code lên). Commit thay đổi ở my-project. Như vậy dùng Git submodules sẽ giúp chúng ta chia sẻ code giữa các project một cách dễ dàng. Tuy nhiên nhược điểm của nó là việc đồng bộ code giữa các project không diễn ra tự động mà phải chủ động update ở từng project.\n","wordCount":"468","inLanguage":"en","datePublished":"2021-07-18T00:00:00Z","dateModified":"2021-07-18T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://huydq.dev/blog/tai-su-dung-code-cho-nhieu-project-voi-git-submodules/"},"publisher":{"@type":"Organization","name":"HuyDQ's Blog","logo":{"@type":"ImageObject","url":"https://huydq.dev/icons/favicon.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://huydq.dev/ accesskey=h title="huydq.dev (Alt + H)">huydq.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://huydq.dev/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://huydq.dev/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://huydq.dev/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://huydq.dev/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Tái sử dụng code cho nhiều project với Git Submodules</h1><div class=post-meta><span title='2021-07-18 00:00:00 +0000 UTC'>18/07/2021</span>&nbsp;·&nbsp;3 min</div></header><div class=post-content><p>Trong một project sẽ có những đoạn code có thể tái sử dụng ở nhiều nơi, thường đặt ở trong các thư mục đại loại như: helper, utils, &mldr; Vậy nếu những đoạn code đó lại được tái sử dụng ở nhiều project thì sao?</p><p>Có nhiều phương pháp áp dụng như: Git Submodules, Monorepos, Bit, &mldr; hay tạo hẳn thư viện riêng và đẩy lên cloud.</p><p><img loading=lazy src=/images/reusable-code-copy-paste.png alt="Reuse code by Copy paste"></p><p>Trong bài viết này mình sẽ hướng dẫn các bạn cách sử dụng <a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>Git Submodules</a> cho việc tái sử dụng code.</p><p>Git Submodules cho phép tạo một (hoặc nhiều) repository bên trong repository hiện tại. Những đoạn code tái sử dụng cho nhiều project thì có thể đặt ra một repository riêng, sau đó nhúng vào trong các project cần sử dụng theo dạng Sub module.</p><p>Ví dụ mình có một project <strong>my-project</strong>, có cấu trúc như sau:</p><p><img loading=lazy src=/images/project-structure-git-submodules-1.png alt="Project structure 1"></p><p>Trong đó mình muốn code nằm trong thư mục <em>src/library</em> có thể tái sử dụng được ở nhiều project, vậy mình sẽ tạo 1 repository mới là <strong>my-library</strong>, và nhúng repo này vào trong <strong>my-project</strong>. Ở các project khác muốn dùng chung code thì cũng nhúng <strong>my-library</strong> vào qua submodules.</p><p>Để tạo submodule cho repository <strong>my-project</strong> ta dùng lệnh sau:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git submodule add https://github.com/robinhuy/my-library
</span></span></code></pre></td></tr></table></div></div><p>Lệnh này sẽ tạo ra một thư mục mới là <strong>my-library</strong> và một file mới là <strong>.gitmodules</strong> trong project <strong>my-project</strong>. Thư mục này chính là repository <strong>my-library</strong> luôn, chúng ta có thể cd vào và thực hiện các lệnh fetch, pull, push, &mldr; như bình thường. Còn file <strong>.gitmodules</strong> sẽ chứa thông tin về submodule vừa tạo.</p><p><img loading=lazy src=/images/project-structure-git-submodules-2.png alt="Project structure 2"></p><p>Ngoài ra, để cho cấu trúc thư mục được đẹp, khi tạo submodule chúng ta có thể đổi lại tên thư mục, hay cho vào trong một thư mục con cũng được. Ví dụ mình tạo submodule là folder <em>src/library</em> thay vì <em>my-library</em> thì dùng lệnh sau:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git submodule add https://github.com/robinhuy/my-library src/library
</span></span></code></pre></td></tr></table></div></div><p>Trường hợp tạo nhầm thì các bạn có thể xóa submodule đi bằng cách chạy lệnh sau:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git rm -rf my-library
</span></span><span style=display:flex><span>rm -rf .git/modules/my-library
</span></span></code></pre></td></tr></table></div></div><p>với <em>my-library</em> là thư mục chứa submodule (được khai báo trong file <em>.gitmodules</em>).</p><p>Chú ý mọi chỉnh sửa trong submodule muốn cập nhật vào repository chính thì cần tạo thêm commit. Như vậy khi có thay đổi từ repository <strong>my-library</strong> và muốn cập nhật vào trong <strong>my-project</strong> thì cần:</p><ul><li>Vào trong thư mục <em>src/library</em> để pull code mới nhất về (hoặc có thể chỉnh sửa trong này rồi push code lên).</li><li>Commit thay đổi ở <strong>my-project</strong>.</li></ul><p><img loading=lazy src=/images/github-git-submodules.png alt="Github git submodules"></p><p>Như vậy dùng Git submodules sẽ giúp chúng ta chia sẻ code giữa các project một cách dễ dàng. Tuy nhiên nhược điểm của nó là việc đồng bộ code giữa các project không diễn ra tự động mà phải chủ động update ở từng project.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://huydq.dev/tags/git/>Git</a></li><li><a href=https://huydq.dev/tags/github/>Github</a></li></ul><nav class=paginav><a class=prev href=https://huydq.dev/blog/huong-dan-su-dung-createasyncthunk-trong-redux-toolkit/><span class=title>« Prev</span><br><span>Hướng dẫn sử dụng createAsyncThunk trong Redux Toolkit</span></a>
<a class=next href=https://huydq.dev/blog/toi-uu-static-page-voi-webpack/><span class=title>Next »</span><br><span>Tối ưu static website với Webpack</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Tái sử dụng code cho nhiều project với Git Submodules on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhuydq.dev%2fblog%2ftai-su-dung-code-cho-nhieu-project-voi-git-submodules%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Tái sử dụng code cho nhiều project với Git Submodules on twitter" href="https://twitter.com/intent/tweet/?text=T%c3%a1i%20s%e1%bb%ad%20d%e1%bb%a5ng%20code%20cho%20nhi%e1%bb%81u%20project%20v%e1%bb%9bi%20Git%20Submodules&url=https%3a%2f%2fhuydq.dev%2fblog%2ftai-su-dung-code-cho-nhieu-project-voi-git-submodules%2f&hashtags=Git%2cGithub"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a></div></footer><script src=https://utteranc.es/client.js repo=robinhuy/robinhuy.github.io issue-term=pathname label=comment theme=preferred-color-scheme crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2022 HuyDQ's Blog</span>
<span>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;</span><div class=social-icons><a href=https://github.com/robinhuy><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://codepen.io/robinhuy><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 22 8.5 22 15.5 12 22 2 15.5 2 8.5 12 2"/><line x1="12" y1="22" x2="12" y2="15.5"/><polyline points="22 8.5 12 15.5 2 8.5"/><polyline points="2 15.5 12 8.5 22 15.5"/><line x1="12" y1="2" x2="12" y2="8.5"/></svg></a><a href=https://stackoverflow.com/users/5229299/robin-huy><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.913 16.041v6.848h17.599v-6.848M7.16 18.696h8.925M7.65 13.937l8.675 1.8M9.214 9.124l8.058 3.758M12.086 4.65l6.849 5.66M15.774 1.111l5.313 7.162"/></svg></a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>